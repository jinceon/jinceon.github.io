# 代码复用的反面案例
## 案例
某项目采用微服务架构，将系统切分成大量微服务，服务间通过feign调用。  
为了方便调用方，无需多个调用方各自去生成客户端代码，API提供方在实现接口的时候同时提出FeignClient定义。  
见下图，其中`*-service`是api实现，`*-api`则是FeignClient定义。
![模块依赖示例](C:\Users\Administrator\WebstormProjects\informal-essay\2023\02\bad-example-of-code-reuse.png)

至于`*-model`里是什么呢？  
是各种vo、dto、entity、mybatis的mapper定义等。  
这样它就实现了dto等在客户端、服务端的复用。  
毕竟vo、dto、entity这些几乎都是一模一样的字段嘛，“没必要”重复，也“没必要”在客户端和服务端各维护一套。

## 我的观点
离了个大谱，滑了个大稽。  

